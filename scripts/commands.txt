    1  yum install git wget 
    2  yum install ruby -y
    3  wget https://aws-codedeploy-us-east-2/latest/install
    4   wget https://aws-codedeploy-us-east-2.s3.amazonaws.com/latest/install
    5  chmod +x ./install
    6  sudo ./install auto
    7  service codedeploy-agent status
    8  pwd
    9  cd /opt
   10  mkdir phpapp
   11  cd phpapp/
   12  git pull https://github.com/CircleCI-Public/circleci-demo-php-laravel.git
   13  git init
   14  git pull https://github.com/CircleCI-Public/circleci-demo-php-laravel.git
   15  ll 
   16  cp .env.testing .env
   17  yum install nginx
   18  yum install nginx1.12 -y
   19  yum install epel-release -y
   20  sudo amazon-linux-extras install epel
   21  yum install nginx -y
   22  wget http://rpms.remirepo.net/enterprise/remi-release-7.rpm
   23  rpm -Uvh remi-release-7.rpm
   24  yum install yum-utils -y
   25  yum-config-manager --enable remi-php71
   26  yum --enablerepo=remi,remi-php71 install php-fpm php-common
   27  yum --enablerepo=remi,remi-php71 install php-opcache php-pecl-apcu php-cli php-pear php-pdo php-mysqlnd php-pgsql php-pecl-mongodb php-pecl-redis php-pecl-memcache php-pecl-memcached php-gd php-mbstring php-mcrypt php-xml
   28  php -version
   29  systemctl start php
   30  sudo amazon-linux-extras installphp7.1
   31  sudo amazon-linux-extras install php7.1
   32  php -version
   33  ll
   34  rm -rf remi-release-7.rpm
   35  cd ..
   36  php -r "copy('https://getcomposer.org/installer', 'composer-setup.php');"
   37  php -r "if (hash_file('sha384', 'composer-setup.php') === '48e3236262b34d30969dca3c37281b3b4bbe3221bda826ac6a9a62d6444cdb0dcd0615698a5cbe587c3f0fe57a54d8f5') { echo 'Installer verified'; } else { echo 'Installer corrupt'; unlink('composer-setup.php'); } echo PHP_EOL;"
   38  yum install php-cli php-zip wget unzip
   39  ll
   40  php composer-setup.php --install-dir=/usr/local/bin --filename=composer
   41  /usr/local/bin/composer
   42  composer
   43  echo $PATH
   44  ] php composer-setup.php --install-dir=/usr/bin --filename=composer
   45  ll
   46  php composer-setup.php --install-dir=/usr/bin --filename=composer
   47  composer
   48  ll 
   49  cd phpapp/
   50  ll
   51  composer install
   52  vim /etc/php.ini
   53  yum search php-mbstring
   54  php -version
   55  yum install php71-php-mbstring.x86_64 
   56  ll
   57  composer install
   58  vim /etc/php.ini 
   59  composer install
   60  php --ini
   61  yum search ext-dom
   62  vim /etc/php.ini 
   63  composer intall
   64  composer install
   65  yum search php7.0-xml
   66  cd ..
   67  mkdir phpapp2
   68  cd phpapp
   69  cd ..
   70  cd phpapp2/
   71  git clone https://github.com/PHP-DI/demo.git
   72  ll
   73  cd  demo/
   74  ll
   75  composer install
   76  php -S 0.0.0.0:8000 -t web/
   77  php -S 0.0.0.0:8001 -t web/
   78  ll
   79  vim /opt/phpapp2/demo/vendor/twig/twig/src/Environment.php
   80  composer require twig/twig
   81  ll
   82  php -S 0.0.0.0:8001 -t web/
   83  cd ..
   84  rmdir php*
   85  cd ..
   86  rmdir php*
   87  rmdir -rf  php*
   88  rmdir -f  php*
   89  rm -rf  php*
   90  ll
   91  mkdir php-aws-codepipeline
   92  cd php-aws-codepipeline/
   93  composer require nesbot/carbon
   94  ll
   95  vim index.php
   96  git init
   97  git config --global user.name
   98  git config --global user.name "bals"
   99  git config --global user.email "balaji.nandakumar419@gmail.com"
  100  ll
  101  git add .
  102  git commit -m "First commit"
  103  ll
  104  git remote add origin https://github.com/balaji419/samplephpbals.git
  105  git push -u origin master
  106  git pull --rebase https://github.com/balaji419/samplephpbals.git
  107  mkdir ../webappfinal
  108  vim appspec.yml
  109  mkdir script
  110  rmdir script/
  111  mkdir scripts
  112  cd scripts/
  113  ll
  114  vim script.sh
  115  systemctl start nginx
  116  vim /etc/nginx/conf.d/default.conf
  117  vim /etc/nginx/conf.d/bals.conf
  118  vim  /etc/php-fpm.d/www.conf
  119  systemctl start php-fpm.service
  120  ps -ef | grep nginx
  121  ps -ef | grep php
  122  systemctl start nginx
  123  mkdir /var/www/html
  124  mkdir -p /var/www/html
  125  cp /opt/php-aws-codepipeline/* /var/www/html/
  126  cp -rf /opt/php-aws-codepipeline/* /var/www/html/
  127  ll /var/www/html/
  128  systemctl restart nginx
  129  vim /etc/nginx/nginx.conf
  130  systemctl restart nginx
  131  vim /etc/nginx/nginx.conf
  132  ll /var/log/nginx/error.log
  133  tail /var/log/nginx/error.log
  134  ll /var/run/php-fpm/php-fpm.sock
  135  ll /var/run/php-fpm
  136  vim /etc/nginx/conf.d/bals.conf 
  137  vim /etc/php-fpm.d/www.conf
  138  systemctl start php-fpm.service
  139  vim /etc/nginx/conf.d/bals.conf 
  140  vim /etc/nginx/nginx.conf
  141  systemctl restart nginx
  142  systemctl status nginx
  143  nginx -t
  144  vim /etc/nginx/nginx.conf
  145  systemctl restart nginx
  146  systemctl status nginx
  147  vim /etc/nginx/nginx.conf
  148  systemctl restart nginx
  149  vim /etc/nginx/nginx.conf
  150  systemctl status nginx
  151  vim /etc/nginx/nginx.conf
  152  systemctl restart nginx
  153  systemctl status nginx
  154  tail /var/log/nginx/error.log
  155  ps -ef | grep nginx
  156  ps -ef | grep php
  157  vim /etc/php-fpm.d/www.conf
  158  systemctl restart php-fpm.service
  159  ps -ef | grep php
  160  ll /var/www/html/
  161  cd /var/www/
  162  rm -rf *
  163  vim /opt/php-aws-codepipeline/scripts/script.sh 
  164  ln -sfn /opt/webappfinal/samplephpbals /var/www/html
  165  ll /var/www/html 
  166  cd /var/www/html
  167* 
  168  ln -sfn /opt/php-aws-codepipeline/ /var/www/html
  169  ll /var/www/html
  170  cd /var/www/html
  171  ll
  172  history > /opt/php-aws-codepipeline/scripts/commands.txt
https://www.hostinger.in/tutorials/how-to-install-lemp-centos7
